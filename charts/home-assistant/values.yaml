image:
  pullPolicy: IfNotPresent
  tag: latest
  repository: ghcr.io/home-assistant/home-assistant
imagePullSecrets: []
nameOverride: ""
fullnameOverride: ""
strategy:
  type: RollingUpdate
  rollingUpdate:
    # Ne pas créer de pod "en surplus" pendant la mise à jour.
    # Avec maxSurge: 0 et replicaCount: 1, le controller tuera l'ancien pod
    # puis créera le nouveau (downtime mais pas deux instances simultanées).
    maxSurge: 0
    # Autorise 1 pod indisponible pendant l'upgrade — utile quand replicaCount = 1.
    maxUnavailable: 1
serviceAccount:
  create: false
  automountServiceAccountToken: true
  annotations: {}
  name: ""
podAnnotations: {}
podLabels: {}
podSecurityContext: {}
containerSecurityContext:
  privileged: true
securityContext: {}
service:
  type: ClusterIP
  port: 8123
  name: home-assistant-web
  annotations: {}
ingress:
  enabled: true
  entryPoints: websecure
  trustedProxies:
    - 127.0.0.1
    - ::1
  annotations:
    gethomepage.dev/href: https://ha.allapps.me
    gethomepage.dev/enabled: "true"
    gethomepage.dev/group: Tools
    gethomepage.dev/icon: home-assistant.png
    gethomepage.dev/name: Home Assistant
    gethomepage.dev/pod-selector: ""
    gethomepage.dev/weight: "10"
extraEnvVars:
  TEST: "true"
extraSecretNamesForEnvFrom: []
replicaCount: 1
resources:
  requests:
    memory: 250Mi
    cpu: 250m
  limits:
    memory: 500Mi
    cpu: 500m
livenessProbe:
  enabled: false
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 1
  failureThreshold: 3
  successThreshold: 1
readinessProbe:
  enabled: false
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 1
  failureThreshold: 3
  successThreshold: 1
volumes:
  - name: home-assistant-config-volume
    config:
      persistentVolumeClaim:
        claimName: home-assistant-pvc
  # - name: configmap-file
  #   config:
  #     name: configmap-file
  - name: home-assistant-time-volume
    config:
      persistentVolumeClaim:
        claimName: home-assistant-time-pvc

volumeMounts:
  - mountPath: /config
    name: home-assistant-config-volume
  # - mountPath: /config/configuration.yaml
  #   subPath: configuration.yaml
  #   name: configmap-file
  # - mountPath: /config/automations.yaml
  #   subPath: automations.yaml
  #   name: configmap-file
  - mountPath: /etc/localtime
    name: home-assistant-time-volume
nodeSelector: {}
tolerations: []
affinity: {}
